<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Daily Trademarks</title>
<link rel="stylesheet" href="style.css" />
<script src="//code.jquery.com/jquery-1.11.2.min.js"></script>
<script src="isotope.pkgd.min.js"></script>
</head>

<body onload="setInterval('scroll();', 250);">
<div id="header">Daily trademark applications</div>
<div class="container">
<!-- <div class="img_tile"><span class="helper"></span><a href="images/86559867-00000002.JPG"><img src="images/86559867-00000002.JPG"></a></div> 
<div class="img_tile"><span class="helper"></span><a href="images/86559867-00000002.JPG"><img src="images/86559867-00000002.JPG"></a></div>
<div class="img_tile"><span class="helper"></span><a href="images/86559867-00000002.JPG"><img src="images/86559867-00000002.JPG"></a></div>
<div class="img_tile"><span class="helper"></span><a href="images/86559867-00000002.JPG"><img src="images/86559867-00000002.JPG"></a></div>
<div class="img_tile"><span class="helper"></span><a href="images/86559867-00000002.JPG"><img src="images/86559867-00000002.JPG"></a></div>
<div class="img_tile"><span class="helper"></span><a href="images/86559867-00000002.JPG"><img src="images/86559867-00000002.JPG"></a></div>
<div class="img_tile"><span class="helper"></span><a href="images/86559867-00000002.JPG"><img src="images/86559867-00000002.JPG"></a></div>
<div class="img_tile"><span class="helper"></span><a href="images/86559867-00000002.JPG"><img src="images/86559867-00000002.JPG"></a></div>
<div class="img_tile"><span class="helper"></span><a href="images/86559867-00000002.JPG"><img src="images/86559867-00000002.JPG"></a></div>
<div class="img_tile"><span class="helper"></span><a href="images/86559867-00000002.JPG"><img src="images/86559867-00000002.JPG"></a></div>
<div class="img_tile"><span class="helper"></span><a href="images/86559867-00000002.JPG"><img src="images/86559867-00000002.JPG"></a></div>
<div class="img_tile"><span class="helper"></span><a href="images/86559867-00000002.JPG"><img src="images/86559867-00000002.JPG"></a></div> -->
</div>
</body>
</html>
<script>

var $container = $('.container');
// init
$container.isotope({
  // options
  itemSelector: '.img_tile',
    masonry: {
      isFitWidth: true
    }
});

var contentHeight = 200;
var pageHeight = document.documentElement.clientHeight;
var scrollPosition;
var n = 1;
var xmlhttp;

function putImages(){

	if (xmlhttp.readyState==4)
	  {
		  if(xmlhttp.responseText){
			 var resp = xmlhttp.responseText.replace("\r\n", "");
			 var files = resp.split(";");
			  // var j = 0;
			  for(i=0; i<files.length; i++){
				  if(files[i] != ""){
				  	var elem = $('<div class="img_tile"><span class="helper"></span><a href="images/'+files[i]+'"><img src="images/'+files[i]+'" /></a></div>');
				  	// document.getElementById("container").appendChild( elem );
				 	$container.append(elem);
					$container.isotope( 'appended',elem);
					$container.isotope('layout');
					 // j++;

					 // if(j == 5 || j == 10 || j == 15)
						//   document.getElementById("container").innerHTML += '<br />';
					 //  else if(j == 20){
						//   document.getElementById("container").innerHTML += '<p>'+(n-1)+" Images Displayed | <a href='#header'>top</a></p><br />";
						//   j = 0;
					 //  }
				  }
			  }
		  }
	  }
}


function scroll(){

	if(navigator.appName == "Microsoft Internet Explorer")
		scrollPosition = document.documentElement.scrollTop;
	else
		scrollPosition = window.pageYOffset;

	if((contentHeight - pageHeight - scrollPosition) < 100){

		if(window.XMLHttpRequest)
			xmlhttp = new XMLHttpRequest();
		else
			if(window.ActiveXObject)
				xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
			else
				alert ("Bummer! Your browser does not support XMLHTTP!");

		var url="getImages.php?n="+n;

		xmlhttp.open("GET",url,true);
		xmlhttp.send();

		n += 20;
		xmlhttp.onreadystatechange=putImages;
		contentHeight += 200;
	}
}

</script>

